(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(n,e,t){"use strict";t.d(e,"a",function(){return r}),t.d(e,"b",function(){return i});var r="#6936FB",i="#45E5B7"},11:function(n,e,t){"use strict";t.d(e,"a",function(){return a}),t.d(e,"c",function(){return o});var r=t(17),i=t(12),a="API_IS_LOADED",o={genres:[],nowPlaying:{results:[]}};e.b=i.a.when(a).then(function(n,e){return Object(r.a)({},n,e.genres,{nowPlaying:e.nowPlaying})})},12:function(n,e,t){"use strict";e.a={when:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return{then:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return-1!==e.indexOf(r.type)?t.reduce(function(n,e){return e(n,r)},n):n}}}}}},18:function(n,e,t){"use strict";t.d(e,"b",function(){return i}),t.d(e,"c",function(){return a});var r=t(22);t.d(e,"a",function(){return r.a});t(11);var i="GENRE_FILTER_CLICKED",a="VOTE_FILTER_CLICKED"},20:function(n,e,t){"use strict";var r=function(n){return fetch(n,{method:"GET",mode:"cors"}).then(function(n){return n.json()})};t.d(e,"c",function(){return a}),t.d(e,"b",function(){return o}),t.d(e,"a",function(){return c});var i="9e77e8e8b03b6f122f96eacc1da8bc10";function a(){return r("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat(i,"&language=en-US&page=1"))}function o(n){return"https://image.tmdb.org/t/p/w200".concat(n)}function c(){return r("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(i,"&language=en-US"))}},22:function(n,e,t){"use strict";t.d(e,"a",function(){return c});var r=t(45),i=t(12),a=t(20),o=t(11),c="APP_IS_LOADED",u=0;e.b=i.a.when(c).then(function(n,e){return u?n:(u++,Promise.all([Object(a.a)(),Object(a.c)()]).then(function(n){var t=Object(r.a)(n,2),i=t[0],a=t[1];return e.dispatch({type:o.a,genres:i,nowPlaying:a})}),n)})},29:function(n,e,t){"use strict";var r=t(2),i=t(0),a=t.n(i),o=t(7),c=t(3),u=t(18),l=t(10);function s(){var n=Object(r.a)(["\n  border: 0;\n  background: transparent;\n  display: block;\n  margin: 1px 1px;\n  flex: 1 1 12%;\n  white-space: pre;\n  cursor: pointer;\n  text-align: center;\n  break-inside: avoid;\n\n  label {\n    display: flex;\n    align-items: center;\n    padding: 5px;\n    border-radius: 4px;\n    ","\n\n    & > * {\n      flex: 1 1 10px;\n    }\n  }\n\n  input,\n  label {\n    cursor: pointer;\n  }\n\n  input {\n    opacity: 0;\n    position: absolute;\n    z-index: -1;\n  }\n\n  ","\n\n  &:hover label {\n    background: #fdd803;\n    color: black;\n  }\n"]);return s=function(){return n},n}var d=c.a.div(s(),function(n){return n.withCheckbox?"justify-content: start;":"justify-content: center;"},function(n){return n.withCheckbox&&'\n    input ~ label:before {\n      display: block;\n      content: "\u2610 ";\n    }\n\n    &:not(:hover) input:checked ~ label {\n      background: '.concat(l.a,';\n      color: white;\n    }\n\n    input:checked ~ label:before {\n      content: "\u2611 ";\n    }\n  ')});e.a=Object(o.b)(null,function(n){return{onClick:function(e,t){return n({type:u.b,id:e,value:t})}}})(function(n){var e=n.className,t=n.genre,r=n.onClick,i=n.withCheckbox;return a.a.createElement(d,{withCheckbox:i,className:e},i&&a.a.createElement("input",{id:"GenreFilterItem-".concat(t.id),type:"checkbox",onChange:function(n){return r(t.id,n.target.checked)}}),a.a.createElement("label",{className:i?"":"text-small",htmlFor:"GenreFilterItem-".concat(t.id)},t.name))})},37:function(n,e,t){"use strict";var r=t(0),i=t.n(r),a=t(40),o=t.n(a);var c=function(n){return o()({loader:n,loading:function(n){var e=n.isLoading,t=n.error;return e&&i.a.createElement("span",null,"Loading...")||t&&i.a.createElement("span",null,"Component load failed")||null}})},u=(t(38),t(2)),l=t(7),s=t(3);function d(){var n=Object(u.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return d=function(){return n},n}var f=new c(function(){return Promise.resolve().then(t.bind(null,38))}),p=function(n){return function(e){return n.length?e.filter(function(e){return n.some(function(n){return-1!==e.genre_ids.indexOf(parseInt(n,0))})}):e}},v=function(n){return function(e){return n?e.filter(function(e){return e.vote_average/2>=n}):e}},h=function(n){return n.sort(function(n,e){return e.popularity-n.popularity})},m=Object(l.b)(function(n){var e=n.apiIsLoaded,t=e.genres,r=e.nowPlaying,i=n.genreFilterClicked,a=n.voteFilterClicked.selectedVote;return{genres:t,nowPlaying:r,selectedGenres:Object.keys(i).filter(function(n){return i[n]}),selectedVote:a}})(Object(s.a)(function(n){var e=n.className,t=n.genres,r=n.nowPlaying.results,a=n.selectedGenres,o=n.selectedVote;return i.a.createElement("div",{className:e},[v(o),p(a),h].reduce(function(n,e){return e(n)},r).map(function(n){return i.a.createElement(f,Object.assign({key:n.id},n,{genreList:t}))}))})(d())),b=t(10);function g(){var n=Object(u.a)(["\n  padding: 30px 30px 20px;\n  border: 2px solid ",";\n  border-radius: 25px;\n  margin: 0 0 40px;\n"]);return g=function(){return n},n}var x=s.a.div(g(),b.a);function y(){var n=Object(u.a)(["\n    color: ",";\n    margin: 20px 0 0;\n  "]);return y=function(){return n},n}function w(){var n=Object(u.a)(["\n    color: ",";\n    text-transform: uppercase;\n    margin: 10px 0 0;\n  "]);return w=function(){return n},n}function E(){var n=Object(u.a)(["\n    color: ",";\n    text-transform: uppercase;\n    white-space: pre;\n  "]);return E=function(){return n},n}var k={h1:s.a.h1(E(),b.b),h2:s.a.h2(w(),b.a),h3:s.a.h3(y(),b.b)},O=t(29);function j(){var n=Object(u.a)(["\n  width: 100%;\n  columns: 150px;\n  margin: 10px 0 10px;\n"]);return j=function(){return n},n}var C=Object(l.b)(function(n){return{genres:n.apiIsLoaded.genres}})(Object(s.a)(function(n){var e=n.className,t=n.genres;n.onClick;return i.a.createElement("div",null,i.a.createElement(k.h3,null,"Filter by genre: "),i.a.createElement("div",{className:e},t.map(function(n){return i.a.createElement(O.a,{withCheckbox:!0,key:n.id,genre:n})})))})(j())),I=t(18);function L(){var n=Object(u.a)(["\n  display: inline-flex;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n  max-width: 220px;\n"]);return L=function(){return n},n}function V(){var n=Object(u.a)(["\n  ","\n"]);return V=function(){return n},n}function F(){var n=Object(u.a)(["\n  ",'\n\n  input {\n    opacity: 0;\n    position: absolute;\n    z-index: -1;\n  }\n\n  input ~ label:before {\n    content: "\u2606";\n  }\n\n  &:hover {\n    color: #fdd803;\n\n    & label:before {\n      content: "\u2605";\n    }\n  }\n\n  input:checked ~ label:before {\n    content: "\u2605";\n  }\n']);return F=function(){return n},n}var _="\n  flex: 1 1 15px;\n  cursor: pointer;\n  padding: 5px;\n  border-radius: 4px;\n\n  input,\n  label {\n    cursor: pointer;\n  }\n\n  &:hover {\n    background: ".concat(b.a,";\n    color: white;\n  }\n"),P=s.a.div(F(),_),N=s.a.div(V(),_),T=Object(l.b)(function(n){return{selectedVote:n.voteFilterClicked.selectedVote}},function(n){return{onClick:function(e){return n({type:I.c,vote:e})}}})(Object(s.a)(function(n){var e=n.className,t=n.onClick,r=n.selectedVote;return i.a.createElement("div",null,i.a.createElement(k.h3,null,"Filter by vote: ")," ",i.a.createElement("div",{className:e},i.a.createElement(N,null,i.a.createElement("input",{id:"VoteItem-0",type:"radio",onClick:function(){return t(0)},checked:r>=0,readOnly:!0,hidden:!0}),i.a.createElement("label",{htmlFor:"VoteItem-0"},"Clear")),[1,2,3,4,5].map(function(n){return i.a.createElement(P,{key:n},i.a.createElement("input",{id:"VoteItem-".concat(n),type:"radio",onClick:function(){return t(n)},checked:r>=n,readOnly:!0}),i.a.createElement("label",{htmlFor:"VoteItem-".concat(n)}))})))})(L()));t.d(e,"a",function(){return c}),t.d(e,"b",function(){return m}),t.d(e,"c",function(){return x}),t.d(e,"d",function(){return C}),t.d(e,"e",function(){return k}),t.d(e,"f",function(){return T})},38:function(n,e,t){"use strict";t.r(e);var r=t(23),i=t(24),a=t(26),o=t(25),c=t(27),u=t(2),l=t(0),s=t.n(l),d=t(3),f=t(29),p=t(20);function v(){var n=Object(u.a)(["\n  width: 160px;\n  min-height: 160px;\n  box-shadow: 0 0.3em 0.7em -0.3em black;\n  margin: 0 10px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  background: lightgrey no-repeat center center;\n  background-size: cover;\n  transition: 0.3s;\n  position: relative;\n  z-index: 2;\n  ","\n"]);return v=function(){return n},n}var h=function(n){var e=n.getBoundingClientRect();return e.bottom>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)},m=Object(d.a)(function(n){var e=n.className,t=n.src;return s.a.createElement("div",{className:e,style:{backgroundImage:t?"url(".concat(t,")"):void 0}})})(v(),function(n){return n.hover?"\n    max-width: 30vw;\n    width: 200px;\n    height: 300px;\n  ":"height: 100%;"}),b=function(n){function e(){var n,t;Object(r.a)(this,e);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return(t=Object(a.a)(this,(n=Object(o.a)(e)).call.apply(n,[this].concat(c)))).state={isInViewPort:!0},t.listening=!0,t.rendered=!1,t.updateVisibility=function(n){t.listening&&!t.rendered&&(t.listening=!1,t.setState({isInViewPort:h(t.reference)},function(){setTimeout(function(){t.listening=!0},300)}))},t.saveRef=function(n){t.reference=n},t}return Object(c.a)(e,n),Object(i.a)(e,[{key:"componentDidMount",value:function(){if("undefined"!==typeof document){var n=document.querySelector("main");n&&n.addEventListener("scroll",this.updateVisibility),setTimeout(this.updateVisibility(),100)}}},{key:"componentWillUnmount",value:function(){if("undefined"!==typeof document&&!this.rendered){var n=document.querySelector("main");n&&n.removeEventListener("scroll",this.updateVisibility)}}},{key:"render",value:function(){var n=this.props,e=n.hover,t=n.src,r=this.state.isInViewPort;return r&&(this.rendered=!0,this.componentWillUnmount()),s.a.createElement("div",{ref:this.saveRef,style:{height:"100%"}},s.a.createElement(m,{hover:e,src:r?Object(p.b)(t):void 0}))}}]),e}(l.Component);function g(){var n=Object(u.a)(["\n  height: 350px;\n  margin: 0 10px 40px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  text-align: center;\n  break-inside: avoid;\n  flex: 1 1 220px;\n  position: relative;\n  transition: 0.3s;\n\n  ","\n"]);return g=function(){return n},n}function x(){var n=Object(u.a)(["\n  margin-top: 20px;\n  padding-top: 10px;\n  box-shadow: 0 -11px 0 -10px lightgrey;\n  color: grey;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  max-width: 160px;\n"]);return x=function(){return n},n}function y(){var n=Object(u.a)(["\n  width: 50vw;\n  margin-top: 20px;\n  padding: 0 10px;\n  text-align: left;\n"]);return y=function(){return n},n}function w(){var n=Object(u.a)(["\n  font-weight: bold;\n  max-width: 160px;\n  margin-top: 20px;\n"]);return w=function(){return n},n}var E=d.a.h6(w()),k=d.a.div(y()),O=d.a.div(x()),j=d.a.article(g(),function(n){return n.hover?"\n      height: initial;\n      margin: 40px 0;\n      top: -50px;\n      left: 0px;\n      flex-direction: row;\n      z-index: 3;":""}),C=function(n){function e(){var n,t;Object(r.a)(this,e);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return(t=Object(a.a)(this,(n=Object(o.a)(e)).call.apply(n,[this].concat(c)))).state={hover:!1,transition:!1},t.toggleHover=function(n){return t.state.hover?t.removeHover(n):t.addHover(n)},t.addHover=function(n){var e=n.target;t.setState({hover:!0,transition:!0}),setTimeout(function(){return e.closest("article").scrollIntoView()},10)},t.removeHover=function(){return setTimeout(function(){return t.setState({hover:!1})},t.state.transition?300:0)},t}return Object(c.a)(e,n),Object(i.a)(e,[{key:"render",value:function(){var n=this.props,e=n.genre_ids,t=n.genreList,r=void 0===t?[]:t,i=n.overview,a=n.title,o=n.poster_path,c=this.state.hover;return s.a.createElement(j,{hover:c,onClick:this.toggleHover},s.a.createElement("div",{style:{flex:"0 1 256px",height:c?"256px":""}},s.a.createElement(b,{src:o,hover:c})),s.a.createElement("div",null,s.a.createElement(E,null,a),s.a.createElement(O,null,r.filter(function(n){return-1!==e.indexOf(n.id)}).map(function(n){return s.a.createElement(f.a,{key:n.id,genre:n})})),c&&s.a.createElement(k,null,i)))}}]),e}(l.PureComponent);e.default=C},47:function(n,e,t){n.exports=t(63)},56:function(n,e,t){},63:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t.n(r),a=t(15),o=t.n(a),c=t(7),u=(t(56),t(11)),l=t(28),s=t(17),d=t(12),f=d.a.when("GENRE_FILTER_CLICKED").then(function(n,e){return Object(s.a)({},n,Object(l.a)({},e.id,e.value))}),p=d.a.when("VOTE_FILTER_CLICKED").then(function(n,e){return Object(s.a)({},n,{selectedVote:e.vote})}),v={apiIsLoaded:u.c,genreFilterClicked:{},voteFilterClicked:{selectedVote:0}},h=t(43),m=t(14),b=t(18),g=new(t(37).a)(function(){return t.e(3).then(t.bind(null,64))}),x=Object(c.b)(null,function(n){return{appIsLoaded:function(){return n({type:b.a,dispatch:n})}}})(function(n){var e=n.appIsLoaded,t=n.childProps;return e()&&i.a.createElement(h.a,null,i.a.createElement(m.c,null,i.a.createElement(m.a,{path:"/",exact:!0,component:g,props:t}),i.a.createElement(m.a,{component:g})))}),y=t(16),w=t(22),E=Object(y.b)({apiIsLoaded:u.b,appIsLoaded:w.b,genreFilterClicked:f,voteFilterClicked:p});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(c.a,{store:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(y.c)(E,n)}(v)},i.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.22c0cb2a.chunk.js.map