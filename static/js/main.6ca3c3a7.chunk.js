(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(n,e,t){"use strict";t.d(e,"a",function(){return r}),t.d(e,"b",function(){return i});var r="#6936FB",i="#45E5B7"},11:function(n,e,t){"use strict";t.d(e,"a",function(){return a}),t.d(e,"c",function(){return c});var r=t(17),i=t(12),a="API_IS_LOADED",c={genres:[],nowPlaying:{results:[]}};e.b=i.a.when(a).then(function(n,e){return Object(r.a)({},n,e.genres,{nowPlaying:e.nowPlaying})})},12:function(n,e,t){"use strict";e.a={when:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return{then:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return-1!==e.indexOf(r.type)?t.reduce(function(n,e){return e(n,r)},n):n}}}}}},18:function(n,e,t){"use strict";t.d(e,"b",function(){return i}),t.d(e,"c",function(){return a});var r=t(22);t.d(e,"a",function(){return r.a});t(11);var i="GENRE_FILTER_CLICKED",a="VOTE_FILTER_CLICKED"},20:function(n,e,t){"use strict";var r=function(n){return fetch(n,{method:"GET",mode:"cors"}).then(function(n){return n.json()})};t.d(e,"c",function(){return a}),t.d(e,"b",function(){return c}),t.d(e,"a",function(){return o});var i="9e77e8e8b03b6f122f96eacc1da8bc10";function a(){return r("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat(i,"&language=en-US&page=1"))}function c(n){return"https://image.tmdb.org/t/p/w200".concat(n)}function o(){return r("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(i,"&language=en-US"))}},22:function(n,e,t){"use strict";t.d(e,"a",function(){return o});var r=t(45),i=t(12),a=t(20),c=t(11),o="APP_IS_LOADED",u=0;e.b=i.a.when(o).then(function(n,e){return u?n:(u++,Promise.all([Object(a.a)(),Object(a.c)()]).then(function(n){var t=Object(r.a)(n,2),i=t[0],a=t[1];return e.dispatch({type:c.a,genres:i,nowPlaying:a})}),n)})},24:function(n,e,t){"use strict";var r=t(2),i=t(0),a=t.n(i),c=t(7),o=t(3),u=t(18),l=t(10);function d(){var n=Object(r.a)(["\n  border: 0;\n  background: transparent;\n  display: block;\n  margin: 1px 1px;\n  flex: 1 1 12%;\n  white-space: pre;\n  cursor: pointer;\n  text-align: center;\n  break-inside: avoid;\n\n  label {\n    display: flex;\n    align-items: center;\n    padding: 5px;\n    border-radius: 4px;\n    ","\n\n    & > * {\n      flex: 1 1 10px;\n    }\n  }\n\n  input,\n  label {\n    cursor: pointer;\n  }\n\n  input {\n    opacity: 0;\n    position: absolute;\n    z-index: -1;\n  }\n\n  ","\n\n  &:hover label {\n    background: #fdd803;\n    color: black;\n  }\n"]);return d=function(){return n},n}var s=o.a.div(d(),function(n){return n.withCheckbox?"justify-content: start;":"justify-content: center;"},function(n){return n.withCheckbox&&'\n    input ~ label:before {\n      display: block;\n      content: "\u2610 ";\n    }\n\n    &:not(:hover) input:checked ~ label {\n      background: '.concat(l.a,';\n      color: white;\n    }\n\n    input:checked ~ label:before {\n      content: "\u2611 ";\n    }\n  ')});e.a=Object(c.b)(null,function(n){return{onClick:function(e,t){return n({type:u.b,id:e,value:t})}}})(function(n){var e=n.className,t=n.genre,r=n.onClick,i=n.withCheckbox;return a.a.createElement(s,{withCheckbox:i,className:e},i&&a.a.createElement("input",{id:"GenreFilterItem-".concat(t.id),type:"checkbox",onChange:function(n){return r(t.id,n.target.checked)}}),a.a.createElement("label",{className:i?"":"text-small",htmlFor:"GenreFilterItem-".concat(t.id)},t.name))})},35:function(n,e,t){"use strict";var r=t(0),i=t.n(r),a=t(40),c=t.n(a);var o=function(n){return c()({loader:n,loading:function(n){var e=n.isLoading,t=n.error;return e&&i.a.createElement("span",null,"Loading...")||t&&i.a.createElement("span",null,"Component load failed")||null}})},u=(t(38),t(2)),l=t(7),d=t(3);function s(){var n=Object(u.a)(["\n  columns: 5 200px;\n  z-index: -1;\n"]);return s=function(){return n},n}var f=new o(function(){return Promise.resolve().then(t.bind(null,38))}),p=function(n){return function(e){return n.length?e.filter(function(e){return n.some(function(n){return-1!==e.genre_ids.indexOf(parseInt(n,0))})}):e}},b=function(n){return function(e){return n?e.filter(function(e){return e.vote_average/2>=n}):e}},m=function(n){return n.sort(function(n,e){return e.popularity-n.popularity})},v=Object(l.b)(function(n){var e=n.apiIsLoaded,t=e.genres,r=e.nowPlaying,i=n.genreFilterClicked,a=n.voteFilterClicked.selectedVote;return{genres:t,nowPlaying:r,selectedGenres:Object.keys(i).filter(function(n){return i[n]}),selectedVote:a}})(Object(d.a)(function(n){var e=n.className,t=n.genres,r=n.nowPlaying.results,a=n.selectedGenres,c=n.selectedVote;return i.a.createElement("div",{className:e},[b(c),p(a),m].reduce(function(n,e){return e(n)},r).map(function(n){return i.a.createElement(f,Object.assign({key:n.id},n,{genreList:t}))}))})(s())),h=t(10);function g(){var n=Object(u.a)(["\n  padding: 30px 30px 20px;\n  border: 2px solid ",";\n  border-radius: 25px;\n  margin: 0 0 40px;\n"]);return g=function(){return n},n}var x=d.a.div(g(),h.a);function y(){var n=Object(u.a)(["\n    color: ",";\n    margin: 20px 0 0;\n  "]);return y=function(){return n},n}function E(){var n=Object(u.a)(["\n    color: ",";\n    text-transform: uppercase;\n    margin: 10px 0 0;\n  "]);return E=function(){return n},n}function w(){var n=Object(u.a)(["\n    color: ",";\n    text-transform: uppercase;\n    white-space: pre;\n  "]);return w=function(){return n},n}var k={h1:d.a.h1(w(),h.b),h2:d.a.h2(E(),h.a),h3:d.a.h3(y(),h.b)},O=t(24);function j(){var n=Object(u.a)(["\n  width: 100%;\n  columns: 150px;\n  margin: 10px 0 10px;\n"]);return j=function(){return n},n}var C=Object(l.b)(function(n){return{genres:n.apiIsLoaded.genres}})(Object(d.a)(function(n){var e=n.className,t=n.genres;n.onClick;return i.a.createElement("div",null,i.a.createElement(k.h3,null,"Filter by genre: "),i.a.createElement("div",{className:e},t.map(function(n){return i.a.createElement(O.a,{withCheckbox:!0,key:n.id,genre:n})})))})(j())),I=t(18);function L(){var n=Object(u.a)(["\n  display: inline-flex;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n  max-width: 220px;\n"]);return L=function(){return n},n}function V(){var n=Object(u.a)(["\n  ","\n"]);return V=function(){return n},n}function F(){var n=Object(u.a)(["\n  ",'\n\n  input {\n    opacity: 0;\n    position: absolute;\n    z-index: -1;\n  }\n\n  input ~ label:before {\n    content: "\u2606";\n  }\n\n  &:hover {\n    color: #fdd803;\n\n    & label:before {\n      content: "\u2605";\n    }\n  }\n\n  input:checked ~ label:before {\n    content: "\u2605";\n  }\n']);return F=function(){return n},n}var _="\n  flex: 1 1 15px;\n  cursor: pointer;\n  padding: 5px;\n  border-radius: 4px;\n\n  input,\n  label {\n    cursor: pointer;\n  }\n\n  &:hover {\n    background: ".concat(h.a,";\n    color: white;\n  }\n"),P=d.a.div(F(),_),N=d.a.div(V(),_),D=Object(l.b)(function(n){return{selectedVote:n.voteFilterClicked.selectedVote}},function(n){return{onClick:function(e){return n({type:I.c,vote:e})}}})(Object(d.a)(function(n){var e=n.className,t=n.onClick,r=n.selectedVote;return i.a.createElement("div",null,i.a.createElement(k.h3,null,"Filter by vote: ")," ",i.a.createElement("div",{className:e},i.a.createElement(N,null,i.a.createElement("input",{id:"VoteItem-0",type:"radio",onClick:function(){return t(0)},checked:r>=0,readOnly:!0,hidden:!0}),i.a.createElement("label",{htmlFor:"VoteItem-0"},"Clear")),[1,2,3,4,5].map(function(n){return i.a.createElement(P,{key:n},i.a.createElement("input",{id:"VoteItem-".concat(n),type:"radio",onClick:function(){return t(n)},checked:r>=n,readOnly:!0}),i.a.createElement("label",{htmlFor:"VoteItem-".concat(n)}))})))})(L()));t.d(e,"a",function(){return o}),t.d(e,"b",function(){return v}),t.d(e,"c",function(){return x}),t.d(e,"d",function(){return C}),t.d(e,"e",function(){return k}),t.d(e,"f",function(){return D})},38:function(n,e,t){"use strict";t.r(e);var r=t(2),i=t(0),a=t.n(i),c=t(3),o=t(24),u=t(32),l=t(33),d=t(36),s=t(34),f=t(37),p=t(20);function b(){var n=Object(r.a)(["\n  width: 160px;\n  height: 256px;\n  box-shadow: 0 0.3em 0.7em -0.3em black;\n  margin: 0 auto 20px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  background: lightgrey no-repeat center center;\n  background-size: cover;\n"]);return b=function(){return n},n}var m=function(n){var e=n.getBoundingClientRect();return e.bottom>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)},v=Object(c.a)(function(n){var e=n.className,t=n.src;return a.a.createElement("div",{className:e,style:{backgroundImage:t?"url(".concat(t,")"):void 0}})})(b()),h=function(n){function e(){var n,t;Object(u.a)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=Object(d.a)(this,(n=Object(s.a)(e)).call.apply(n,[this].concat(i)))).state={isInViewPort:!0},t.listening=!0,t.rendered=!1,t.updateVisibility=function(n){t.listening&&!t.rendered&&(t.listening=!1,t.setState({isInViewPort:m(t.reference)},function(){setTimeout(function(){t.listening=!0},300)}))},t.saveRef=function(n){t.reference=n},t}return Object(f.a)(e,n),Object(l.a)(e,[{key:"componentDidMount",value:function(){if("undefined"!==typeof document){var n=document.querySelector("main");n&&n.addEventListener("scroll",this.updateVisibility),setTimeout(this.updateVisibility(),100)}}},{key:"componentWillUnmount",value:function(){if("undefined"!==typeof document&&!this.rendered){var n=document.querySelector("main");n&&n.removeEventListener("scroll",this.updateVisibility)}}},{key:"render",value:function(){var n=this.props.src,e=this.state.isInViewPort;return e&&(this.rendered=!0,document.querySelector("main").removeEventListener("scroll",this.updateVisibility)),a.a.createElement("div",{ref:this.saveRef},a.a.createElement(v,{src:e?Object(p.b)(n):void 0}))}}]),e}(i.Component);function g(){var n=Object(r.a)(["\n  height: 350px;\n  margin: 0 auto 32px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  text-align: center;\n  break-inside: avoid;\n"]);return g=function(){return n},n}function x(){var n=Object(r.a)(["\n  margin-top: 10px;\n  padding-top: 5px;\n  box-shadow: 0 -11px 0 -10px lightgrey;\n  color: grey;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n"]);return x=function(){return n},n}function y(){var n=Object(r.a)(["\n  font-weight: bold;\n"]);return y=function(){return n},n}var E=c.a.div(y()),w=c.a.div(x());e.default=Object(c.a)(function(n){var e=n.className,t=n.genre_ids,r=n.genreList,i=void 0===r?[]:r,c=n.title,u=n.poster_path;return a.a.createElement("div",{className:e},a.a.createElement(h,{src:u}),a.a.createElement(E,null,c),a.a.createElement(w,null,i.filter(function(n){return-1!==t.indexOf(n.id)}).map(function(n){return a.a.createElement(o.a,{key:n.id,genre:n})})))})(g())},47:function(n,e,t){n.exports=t(63)},56:function(n,e,t){},63:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t.n(r),a=t(15),c=t.n(a),o=t(7),u=(t(56),t(11)),l=t(23),d=t(17),s=t(12),f=s.a.when("GENRE_FILTER_CLICKED").then(function(n,e){return Object(d.a)({},n,Object(l.a)({},e.id,e.value))}),p=s.a.when("VOTE_FILTER_CLICKED").then(function(n,e){return Object(d.a)({},n,{selectedVote:e.vote})}),b={apiIsLoaded:u.c,genreFilterClicked:{},voteFilterClicked:{selectedVote:0}},m=t(43),v=t(14),h=t(18),g=new(t(35).a)(function(){return t.e(3).then(t.bind(null,64))}),x=Object(o.b)(null,function(n){return{appIsLoaded:function(){return n({type:h.a,dispatch:n})}}})(function(n){var e=n.appIsLoaded,t=n.childProps;return e()&&i.a.createElement(m.a,null,i.a.createElement(v.c,null,i.a.createElement(v.a,{path:"/",exact:!0,component:g,props:t}),i.a.createElement(v.a,{component:g})))}),y=t(16),E=t(22),w=Object(y.b)({apiIsLoaded:u.b,appIsLoaded:E.b,genreFilterClicked:f,voteFilterClicked:p});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(o.a,{store:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(y.c)(w,n)}(b)},i.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.6ca3c3a7.chunk.js.map